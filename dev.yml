# This file is for Shopify employees development environment.
# If you are an external contributor you don't have to bother with it.
name: shipit-engine

type: rails

up:
  - packages:
      - sqlite
  - ruby
  - nginx
  - redis
  - mysql
  - bundler:
      without: ci
  - custom:
      name: Check for secrets file
      met?: test -f config/secrets.development.yml
      meet: "echo \"Run 'dev bootstrap' first (WARNING: drops database)\" && exit 1"

server:
  root: test/dummy

commands:
  bootstrap: bin/bootstrap shopify
  console: test/dummy/bin/rails console
  test: bin/rails test "$@"
  style: bin/rubocop --auto-correct

open:
  app: https://shipit-engine.myshopify.io
